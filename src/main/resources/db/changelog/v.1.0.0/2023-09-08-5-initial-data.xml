<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.0.xsd">

    <changeSet id="2023-09-08-5-initial-data" author="SursinDV">
        <!-- Добавление ролей -->
        <insert tableName="roles">
            <column name="role_id" value="1"/>
            <column name="authority" value="ADMIN"/>
        </insert>
        <insert tableName="roles">
            <column name="role_id" value="2"/>
            <column name="authority" value="USER"/>
        </insert>

        <!-- Добавление пользователя и его связи с ролями -->
        <insert tableName="users">
            <column name="user_id" value="1"/>
            <column name="username" value="admin"/>
            <column name="password" value="$2a$12$KA/2dOtEAAaxAIPdmiwKUuREEL6Xep2D27mTmPgzT1TllPF9rqBMK"/>
        </insert>
        <insert tableName="user_role_junction">
            <column name="user_id" value="1"/>
            <column name="role_id" value="1"/> <!-- Связь пользователя с ролью ADMIN -->
        </insert>
    </changeSet>
</databaseChangeLog>